<!DOCTYPE html>
<html>
	<body>
		<table>
			<tr>
				<select id="game">
					<option>Othello</option>
					<option>Tic Tac Toe</option>
					<option>Asteroids</option>
				</select>
				<select id="lang">
					<option>JavaScript</option>
					<option>Java</option>
					<option>Python</option>
				</select>
			</tr>
			<tr>
				<td>
				<button id="uploadButton">
					Upload
				</button></td>
				<td>
				<button id="newButton">
					New
				</button></td>
			</tr>

			<!-- File Uploader -->
			<div id="fileUploader" style="display:none;">
				<h3>Source Code Uploader</h3>
				<span>Select the language of the source file and the location of the file.</span>

				<form action="../upload_file" enctype="multipart/form-data" method="POST">
					<input name="file" type="file" required >
					<br>
					<input type="submit" value="Submit">
				</form>

				<iframe name="submit_frame" style="display:none;"></iframe>
			</div>
		</table>

		<script type="application/javascript" src="/static/javascript-framework/src/App.js" ></script>

		<script type="application/javascript">
			using('lib', '/static/javascript-framework/src/');
			using('ai', '/static/scripts/');

			var UploadPanel = include('ai.upload.UploadPanel');

			App.onready = function() {
				App.setTitle('Web AI: Upload');

				var uploadButton = document.getElementById('uploadButton');
				var uploadPanel = new UploadPanel();

				uploadButton.on('click', function() {
					uploadPanel.show();
				});

				var newButton = document.getElementById('newButton');
				newButton.on('click', function() {
					var game = document.getElementById('game').value;
					var lang = document.getElementById('lang').value;
					location = '/static/edit.html?game=' + game + '&lang=' + lang;
				});
			};
		</script>
	</body>
</html>
